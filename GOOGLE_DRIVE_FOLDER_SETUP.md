# üîß Google Drive Folder Setup Guide

## ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Service Accounts do not have storage quota

Service Account ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô Drive ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ storage quota  
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÉ‡∏ä‡πâ folder ‡∏à‡∏≤‡∏Å Google Drive ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß share ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö Service Account

---

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (5 ‡∏ô‡∏≤‡∏ó‡∏µ)

### 1. ‡∏´‡∏≤ Service Account Email
‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏ô terminal:
```bash
node -e "const sa = require('./service-account.json'); console.log('Service Account Email:', sa.client_email);"
```

‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å email ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ (‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: `xxx@xxx.iam.gserviceaccount.com`)

---

### 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Folder ‡πÉ‡∏ô Google Drive ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

1. ‡πÄ‡∏õ‡∏¥‡∏î [Google Drive](https://drive.google.com)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New** ‚Üí **Folder**
3. ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠: `Kohlarn Hotel Images` (‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ)
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create**

---

### 3. Share Folder ‡∏Å‡∏±‡∏ö Service Account

1. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤** ‡∏ó‡∏µ‡πà folder ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Share**
2. ‡πÉ‡∏ô **Add people and groups**:
   - ‡∏ß‡∏≤‡∏á Service Account Email ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ß‡πâ
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: **Editor** (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô Editor ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Viewer)
3. **‡∏õ‡∏¥‡∏î Notification**: ‡∏Ñ‡∏•‡∏¥‡∏Å ‚öôÔ∏è (Settings) ‚Üí **‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ï‡∏¥‡πä‡∏Å** "Notify people"
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Share**

---

### 4. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Folder ID

1. ‡πÄ‡∏õ‡∏¥‡∏î folder ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô Google Drive
2. ‡∏î‡∏π URL ‡πÉ‡∏ô address bar:
   ```
   https://drive.google.com/drive/folders/1AbCdEfGhIjKlMnOpQrStUvWxYz
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                          ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ FOLDER ID
   ```
3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å FOLDER ID (‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏á `/folders/`)

---

### 5. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .env

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ:

```env
# Google Drive Configuration
GOOGLE_DRIVE_FOLDER_ID=1AbCdEfGhIjKlMnOpQrStUvWxYz
```

‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `1AbCdEfGhIjKlMnOpQrStUvWxYz` ‡∏î‡πâ‡∏ß‡∏¢ FOLDER ID ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ß‡πâ

---

### 6. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Vercel (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production)

1. ‡πÑ‡∏õ [Vercel Dashboard](https://vercel.com)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å project **kohlarn**
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **Environment Variables**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add New**
5. ‡πÄ‡∏û‡∏¥‡πà‡∏°:
   - **Key**: `GOOGLE_DRIVE_FOLDER_ID`
   - **Value**: `1AbCdEfGhIjKlMnOpQrStUvWxYz` (Folder ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
   - **Environment**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á 3 (Production, Preview, Development)
6. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**
7. **Redeploy** project (Settings ‚Üí Deployments ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å ... ‚Üí Redeploy)

---

## ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å restart server (local) ‡∏´‡∏£‡∏∑‡∏≠ redeploy (Vercel):

1. ‡πÄ‡∏Ç‡πâ‡∏≤ Admin Panel
2. ‡∏•‡∏≠‡∏á‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°
3. ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
   ```
   ‚úÖ Using shared folder: Kohlarn Hotel Images (FOLDER_ID)
   ‚úÖ Uploaded image to Google Drive
   ```

---

## üîç Troubleshooting

### ‚ùå "Cannot access folder FOLDER_ID"
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Service Account ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á folder

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ share folder ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏õ‡πá‡∏ô **Editor** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Viewer)
3. ‡∏£‡∏≠‡∏™‡∏±‡∏Å 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà

### ‚ùå "GOOGLE_DRIVE_FOLDER_ID not configured"
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° FOLDER_ID ‡πÉ‡∏ô .env

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4-6
2. Restart server

### ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service Account ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:
```bash
# Local
npm start

# ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ = ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ Using shared folder: Kohlarn Hotel Images (FOLDER_ID)
```

---

## üìä ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Folder

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å setup ‡πÄ‡∏™‡∏£‡πá‡∏à Google Drive ‡∏à‡∏∞‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

```
üìÅ Kohlarn Hotel Images (YOUR FOLDER - shared with Service Account)
  ‚îú‚îÄ‚îÄ üìÅ 001 - ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° A
  ‚îÇ   ‚îú‚îÄ‚îÄ üñºÔ∏è hotel-001-1729680000000.jpg
  ‚îÇ   ‚îî‚îÄ‚îÄ üñºÔ∏è hotel-001-1729680123456.jpg
  ‚îú‚îÄ‚îÄ üìÅ 002 - ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° B
  ‚îÇ   ‚îî‚îÄ‚îÄ üñºÔ∏è hotel-002-1729680234567.jpg
  ‚îî‚îÄ‚îÄ üìÅ 003 - ‡πÄ‡∏î‡∏≠‡∏∞‡πÑ‡∏•‡∏ó‡πå‡πÄ‡∏Æ‡πâ‡∏≤‡∏™‡πå‡∏£‡∏µ‡∏™‡∏≠‡∏£‡πå‡∏ó ‡πÄ‡∏Å‡∏≤‡∏∞‡∏•‡πâ‡∏≤‡∏ô
      ‚îî‚îÄ‚îÄ üñºÔ∏è hotel-003-1729680345678.jpg
```

- **Main folder** = ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞ share
- **Sub-folders** = ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°
- **Images** = ‡∏°‡∏µ timestamp ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô

---

## üí° Tips

1. **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á quota** - ‡πÉ‡∏ä‡πâ quota ‡∏Ç‡∏≠‡∏á Google Drive ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (15 GB ‡∏ü‡∏£‡∏µ)
2. **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÉ‡∏ô Drive ‡πÑ‡∏î‡πâ** - ‡πÄ‡∏Ç‡πâ‡∏≤ folder ‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Drive ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
3. **‡∏•‡∏ö‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ** - ‡∏•‡∏ö‡πÉ‡∏ô Drive ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏≤
4. **Backup ‡∏á‡πà‡∏≤‡∏¢** - Download folder ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Google Drive

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ |
|---------|---------|
| 1. ‡∏´‡∏≤ Service Account Email | 30 ‡∏ß‡∏¥ |
| 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Folder | 30 ‡∏ß‡∏¥ |
| 3. Share ‡∏Å‡∏±‡∏ö Service Account | 1 ‡∏ô‡∏≤‡∏ó‡∏µ |
| 4. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Folder ID | 30 ‡∏ß‡∏¥ |
| 5. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .env | 1 ‡∏ô‡∏≤‡∏ó‡∏µ |
| 6. Deploy Vercel | 2 ‡∏ô‡∏≤‡∏ó‡∏µ |
| **‡∏£‡∏ß‡∏°** | **~5 ‡∏ô‡∏≤‡∏ó‡∏µ** |

---

## üìû ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠?

‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
1. ‡πÄ‡∏ä‡πá‡∏Ñ console logs
2. ‡∏î‡∏π error message ‡πÉ‡∏ô Admin Panel
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Service Account Email ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
4. ‡∏•‡∏≠‡∏á revoke permission ‡πÅ‡∏•‡πâ‡∏ß share ‡πÉ‡∏´‡∏°‡πà
