# 📊 คู่มือการอัปเดต Dashboard แบบใหม่

## 🎯 สิ่งที่จะเปลี่ยนแปลง

### Dashboard ใหม่จะแสดง:

#### ส่วนที่ 1: สถิติตัวเลข (4 การ์ด)
1. **ผู้เข้าชมเว็บไซต์** - จำนวนการเข้าชมทั้งหมด (รายวัน/สัปดาห์/เดือน/ปี)
2. **คลิกการ์ดโรงแรม** - จำนวนครั้งที่คลิกดูรายละเอียดโรงแรม
3. **โรงแรมทั้งหมด** - จำนวนโรงแรมในระบบ
4. **หัวใจทั้งหมด** - จำนวนผู้เข้าชมที่กดหัวใจ

#### ส่วนที่ 2: ประวัติกิจกรรมล่าสุด (Real-time)
แสดง 10 กิจกรรมล่าสุด แบบ real-time:
- ✅ เพิ่มโรงแรม
- ✏️ แก้ไขโรงแรม  
- 🗑️ ลบโรงแรม
- ➕ เพิ่มตัวกรอง
- ✏️ แก้ไขตัวกรอง
- ❌ ลบตัวกรอง
- ❤️ กดหัวใจการ์ดโรงแรม

## 🔧 Google Sheets ที่ต้องใช้

ไม่ต้องเพิ่มอะไร! ใช้ **ActivityLog** ที่มีอยู่:

```
คอลัมน์:
- A: Timestamp (2025-10-05T10:30:00)
- B: Username
- C: Nickname  
- D: Action (เพิ่มโรงแรม, แก้ไขโรงแรม, ลบโรงแรม, เพิ่มตัวกรอง, แก้ไขตัวกรอง, ลบตัวกรอง)
- E: Details (ชื่อโรงแรม/ตัวกรอง)
```

## 📋 การทำงานของระบบ

### 1. เมื่อมีคนกดหัวใจ
```javascript
// ระบบจะบันทึกใน likes.json และ ActivityLog
{
  timestamp: "2025-10-05T10:30:00",
  username: "visitor",
  nickname: "ผู้เข้าชม",
  action: "กดหัวใจ",
  details: "โรงแรมดวงแก้ว"
}
```

### 2. เมื่อ Admin เพิ่มโรงแรม
```javascript
{
  timestamp: "2025-10-05T10:35:00",
  username: "admin",
  nickname: "ผู้จัดการระบบ",
  action: "เพิ่มโรงแรม",
  details: "โรงแรมใหม่"
}
```

### 3. Dashboard จะดึงข้อมูล
- จาก `/api/admin/stats` → สถิติการเข้าชม
- จาก `/api/admin/activity-logs` → 10 กิจกรรมล่าสุด
- อัปเดตอัตโนมัติทุก 10 วินาที

## 🎨 หน้าตา Dashboard

```
┌────────────────────────────────────────────────────────┐
│  📊 Dashboard                                          │
├────────────────────────────────────────────────────────┤
│  [รายวัน] [สัปดาห์] [เดือน] [ปี]                     │
│                                                         │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ │
│  │ 👥 1,234 │ │ 🖱️ 567  │ │ 🏨 42    │ │ ❤️ 890   │ │
│  │ ผู้เข้าชม│ │ คลิกการ์ด│ │ โรงแรม  │ │ หัวใจ    │ │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘ │
│                                                         │
│  📝 กิจกรรมล่าสุด (Real-time)                         │
│  ┌───────────────────────────────────────────────────┐│
│  │ ❤️ นาย A กดหัวใจ "โรงแรมดวงแก้ว"   | 2 นาทีที่แล้ว││
│  │ ✅ admin เพิ่มโรงแรม "โรงแรมใหม่"   | 5 นาทีที่แล้ว││
│  │ ✏️ admin แก้ไขโรงแรม "โรงแรมเก่า"  | 10 นาทีที่แล้ว│
│  │ ➕ admin เพิ่มตัวกรอง "WiFi"        | 15 นาทีที่แล้ว│
│  │ 🗑️ admin ลบโรงแรม "โรงแรมปิด"      | 20 นาทีที่แล้ว│
│  └───────────────────────────────────────────────────┘│
└────────────────────────────────────────────────────────┘
```

## 🚀 ขั้นตอนการอัปเดต

1. แก้ไข `admin.html` → ใช้โครงสร้าง Sidebar จาก admin_v2
2. แก้ไข Dashboard section → เอากราฟออก, เพิ่มกิจกรรมล่าสุด
3. แก้ไข `admin.js` → เพิ่มฟังก์ชันโหลดกิจกรรมล่าสุด
4. เพิ่ม Auto-refresh ทุก 10 วินาที

## ✅ ผลลัพธ์ที่ได้

- ✅ หน้าตาเหมือน admin_v2 (Sidebar สวยงาม)
- ✅ Dashboard แสดงสถิติ 4 ตัว
- ✅ แสดงกิจกรรมล่าสุด 10 รายการ
- ✅ Real-time update ทุก 10 วินาที
- ✅ ยังเลือกช่วงเวลาได้ (วัน/สัปดาห์/เดือน/ปี)
- ✅ ไม่มีกราฟ (ประหยัดพื้นที่)

## 📝 หมายเหตุ

- ใช้ CSS จาก `admin_v2.css` (สวยงามกว่า `admin.css`)
- ใช้ JavaScript จาก `admin.js` แต่ปรับฟังก์ชันใหม่
- ไม่ต้องแก้ Google Sheets
- รองรับมือถือและ PC
